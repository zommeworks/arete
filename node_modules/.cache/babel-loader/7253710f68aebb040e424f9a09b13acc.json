{"ast":null,"code":"var _jsxFileName = \"/Users/zomme/Github/arete/src/App.js\";\nimport React from 'react';\nimport styles from './App.css';\nimport Interaction from './interaction.js';\nimport data from './testscript.json';\nimport $ from 'jquery';\n/*\n  UI scheme\n\n ┏━━━━ baseplate ━━━━┓\n ┃  ┏━━━━ AudioController ━━━━┓\n ┃  ┃\n ┃  ┗━━━━━━━━┛  ┃\n ┃  ┏━━━━ BoxAgent ━━━━━━━━━━━━━━━━━━━━━┓\n ┃  ┃  ┏━━━━ ButtonAgent ━━━━━━━━━━━━┓  ┃\n ┃  ┃  ┃  props: playStatus (0/1/2)  ┃  ┃\n ┃  ┃  ┃  state: playStatus (0/1/2)  ┃  ┃\n ┃  ┃  ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛  ┃\n ┃  ┃  ┏━━━━ TextSubtitle ━━━━━━━━━━━┓  ┃\n ┃  ┃  ┃  props: text (string)       ┃  ┃\n ┃  ┃  ┃         playStatus (0/1/2)  ┃  ┃\n ┃  ┃  ┃  state: playStatus (0/1/2)  ┃  ┃\n ┃  ┃  ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛  ┃\n ┃  ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛\n ┃\n ┃  ┏━━━━ BoxController ━━━━━━━━━━━━━━━━━━━━━━━━┓\n ┃  ┃  props: theme (light / dark)              ┃\n ┃  ┃         playStatus (0/1/2)                ┃\n ┃  ┃  state: theme (light / dark)              ┃\n ┃  ┃         playStatus (0/1/2)                ┃\n ┃  ┃  ┏━━━━ div.box-bar ━━━━━━━━━━━━━━━━━━━━┓  ┃\n ┃  ┃  ┃  ┏━━━━ ProgressBar ━━━━━━━━━━━━━━┓  ┃  ┃\n ┃  ┃  ┃  ┃  props: playStatus (0/1/2)    ┃  ┃  ┃\n ┃  ┃  ┃  ┃         maxTimeout (int)      ┃  ┃  ┃\n ┃  ┃  ┃  ┃  state: playStatus (0/1/2)    ┃  ┃  ┃\n ┃  ┃  ┃  ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛  ┃  ┃\n ┃  ┃  ┃  ┏━━━━ div.bar-base ━━━━━━━━━━━━━┓  ┃  ┃\n ┃  ┃  ┃  ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛  ┃  ┃\n ┃  ┃  ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛  ┃\n ┃  ┃  ┏━━━━ div.box-buttons ━━━━━━━━━━━━━━━━┓  ┃\n ┃  ┃  ┃  ┏━━━━ BtnSmall #btnRewind ━━━━━━┓  ┃  ┃\n ┃  ┃  ┃  ┃  props: theme (light / dark)  ┃  ┃  ┃\n ┃  ┃  ┃  ┃  state: theme (light / dark)  ┃  ┃  ┃\n ┃  ┃  ┃  ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛  ┃  ┃\n ┃  ┃  ┃  ┏━━━━ BtnSmall #btnPlayPause ━━━┓  ┃  ┃\n ┃  ┃  ┃  ┃  props: theme (light / dark)  ┃  ┃  ┃\n ┃  ┃  ┃  ┃         playStatus (0/1/2)    ┃  ┃  ┃\n ┃  ┃  ┃  ┃  state: theme (light / dark)  ┃  ┃  ┃\n ┃  ┃  ┃  ┃         playStatus (0/1/2)    ┃  ┃  ┃\n ┃  ┃  ┃  ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛  ┃  ┃\n ┃  ┃  ┃  ┏━━━━ BtnSmall #btnSkip ━━━━━━━━┓  ┃  ┃\n ┃  ┃  ┃  ┃  props: theme (light / dark)  ┃  ┃  ┃\n ┃  ┃  ┃  ┃  state: theme (light / dark)  ┃  ┃  ┃\n ┃  ┃  ┃  ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛  ┃  ┃\n ┃  ┃  ┃  ┏━━━━ BtnSmall #btnExit ━━━━━━━━┓  ┃  ┃\n ┃  ┃  ┃  ┃  props: theme (light / dark)  ┃  ┃  ┃\n ┃  ┃  ┃  ┃  state: theme (light / dark)  ┃  ┃  ┃\n ┃  ┃  ┃  ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛  ┃  ┃\n ┃  ┃  ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛  ┃\n ┃  ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛\n ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛\n\n\n props and states\n\n playStatus:\n  0: null,\n  1: audio ready,\n  2: playing,\n  3: audio end\n**/\n\nfunction setData(source, target) {\n  target.name = source.name;\n  target.message = source.message;\n  target.displayMessage = source.displayMessage;\n  target.displayOnly = source.displayOnly;\n  target.hasImage = source.hasImage;\n  target.epd = source.epd;\n  target.answerEntity = source.answerEntity;\n  target.maxTimeout = source.maxTimeout;\n  target.duration = source.duration;\n}\n\nconst currentData = {\n  /*\n  name: '',\n  message: 'this is a dummy text',\n  displayMessage: 'dummy text',\n  displayOnly: 0,\n  hasImage: 0,\n  epd: 0,\n  answerEntity: '',\n  maxTimeout: 0,\n  duration: 0,\n  currentPlayTime: 0,\n  playStatus: 0,\n  theme: 'light',\n  */\n  name: 'TASK_J2_01_statement_1',\n  message: '지금부터 몇 개의 그림이 표시될 것입니다. 그림은 한번에 하나씩 나옵니다. 각 그림의 이름을 말해 주시면 됩니다.',\n  displayMessage: '그림의 이름을 말해주세요.',\n  displayOnly: 1,\n  hasImage: 0,\n  epd: 0,\n  answerEntity: '',\n  maxTimeout: 0,\n  duration: 0,\n  currentPlayTime: 0,\n  playStatus: 0,\n  theme: 'light'\n};\nconst nextData = currentData;\n\nclass Baseplate extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = currentData;\n    this.handler = this.handler.bind(this);\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    let docID = window.location.hash.split('#');\n    $.each(data.list, function (i) {\n      if (data.list[i].name == docID[1]) {\n        setData(data.list[i], currentData);\n      }\n    });\n    return currentData;\n  }\n\n  handler() {\n    if (currentData.playStatus === 2) {\n      currentData.playStatus = 3;\n      currentData.theme = 'light';\n    } else {\n      currentData.playStatus = 2;\n      currentData.theme = 'dark';\n    }\n\n    this.setState(currentData);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: \"baseplate\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(BoxAgent, {\n      playStatus: this.state.playStatus,\n      theme: this.state.theme,\n      displayMessage: this.state.displayMessage,\n      handler: this.handler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(BoxController, {\n      theme: this.state.theme,\n      handler: this.handler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\n/* * * * * * * * * * * * *\n * BoxAgent and children *\n * * * * * * * * * * * * */\n\n\nclass BoxAgent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      playStatus: 0,\n      theme: 'light',\n      displayMessage: \"dummy text\"\n    };\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    return {\n      playStatus: props.playStatus,\n      theme: props.theme,\n      displayMessage: props.displayMessage\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box-agent\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(ButtonAgent, {\n      playStatus: this.state.playStatus,\n      handler: this.props.handler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(TextSubtitle, {\n      theme: this.state.theme,\n      displayMessage: this.state.displayMessage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\n\nclass ButtonAgent extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.setButtonStatus = param => {\n      switch (param) {\n        case 0:\n          //audio is not loaded\n          return 'idle';\n\n        case 1:\n          //audio is ready\n          return 'idle';\n\n        case 2:\n          //audio is playing\n          return 'listening';\n\n        case 3:\n          //audio ended\n          return 'idle';\n\n        default:\n          return 'idle';\n      }\n    };\n\n    this.state = {\n      playStatus: 0\n    };\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    return {\n      playStatus: props.playStatus\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"button\", {\n      id: \"btnAgent\",\n      className: \"button-agent status-\" + this.setButtonStatus(this.state.playStatus),\n      onClick: this.props.handler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 7\n      }\n    });\n  }\n\n}\n\nclass TextSubtitle extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      theme: 'light',\n      displayMessage: \"dummy text\"\n    };\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    return {\n      theme: props.theme,\n      message: props.message\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"p\", {\n      id: \"txtSubtitle\",\n      className: \"theme-\" + this.state.theme,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 7\n      }\n    }, this.state.displayMessage);\n  }\n\n}\n/*\nclass AudioController extends React.Component {\n\n}\nclass AudioComp extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n  static getDerivedStateFromProps(props, state) {\n    return {\n      name: props.name,\n      message: props.message,\n      displayMessage: props.displayMessage,\n      displayOnly: props.displayOnly,\n      hasImage: props.hasImage,\n      epd: props.epd,\n      answerEntity: props.answerEntity,\n      maxTimeout: props.maxTimeout,\n      duration: props.duration,\n      currentPlayTime: props.currentPlayTime,\n      playStatus: props.playStatus,\n      theme: props.theme\n    };\n  }\n  render() {\n    return(\n\n    );\n  }\n}\n*/\n\n/* * * * * * * * * * * * * * * *\n * BoxController and children  *\n * * * * * * * * * * * * * * * */\n\n\nclass BoxController extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.setTheme = () => {\n      this.setState({\n        theme: this.state.theme == 'light' ? 'dark' : 'light'\n      });\n    };\n\n    this.state = {\n      theme: 'light'\n    };\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    return {\n      theme: props.theme\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box-controller\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box-bar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"bar bar-base theme-\" + this.state.theme,\n      onClick: this.setTheme,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box-buttons\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(ButtonSmall, {\n      name: \"btnRewind\",\n      alignRight: false,\n      theme: this.state.theme,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(ButtonSmall, {\n      name: \"btnSkip\",\n      alignRight: false,\n      theme: this.state.theme,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(ButtonSmall, {\n      name: \"btnExit\",\n      alignRight: true,\n      theme: this.state.theme,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 11\n      }\n    })));\n  }\n\n}\n\nclass ButtonSmall extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      theme: 'light',\n      clicked: false\n    };\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    return {\n      theme: props.theme,\n      clicked: props.clicked\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"button\", {\n      id: this.props.name,\n      className: \"button-small theme-\" + this.state.theme + (this.props.alignRight ? ' align-right' : ''),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 7\n      }\n    });\n  }\n\n}\n\nfunction App() {\n  const element = /*#__PURE__*/React.createElement(Baseplate, {\n    name: currentData.name,\n    message: currentData.message,\n    displayMessage: currentData.displayMessage,\n    displayOnly: currentData.displayOnly,\n    hasImage: currentData.hasImage,\n    epd: currentData.epd,\n    answerEntity: currentData.answerEntity,\n    maxTimeout: currentData.maxTimeout,\n    duration: currentData.duration,\n    currentPlayTime: currentData.currentPlayTime,\n    playStatus: currentData.playStatus,\n    theme: currentData.theme,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 358,\n      columnNumber: 19\n    }\n  });\n  return element;\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/zomme/Github/arete/src/App.js"],"names":["React","styles","Interaction","data","$","setData","source","target","name","message","displayMessage","displayOnly","hasImage","epd","answerEntity","maxTimeout","duration","currentData","currentPlayTime","playStatus","theme","nextData","Baseplate","Component","constructor","props","state","handler","bind","getDerivedStateFromProps","docID","window","location","hash","split","each","list","i","setState","render","BoxAgent","ButtonAgent","setButtonStatus","param","TextSubtitle","BoxController","setTheme","ButtonSmall","clicked","alignRight","App","element"],"mappings":"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","sourcesContent":["import React from 'react';\nimport styles from './App.css';\nimport Interaction from './interaction.js';\nimport data from './testscript.json'\nimport $ from 'jquery';\n\n\n/*\n  UI scheme\n\n ┏━━━━ baseplate ━━━━┓\n ┃  ┏━━━━ AudioController ━━━━┓\n ┃  ┃\n ┃  ┗━━━━━━━━┛  ┃\n ┃  ┏━━━━ BoxAgent ━━━━━━━━━━━━━━━━━━━━━┓\n ┃  ┃  ┏━━━━ ButtonAgent ━━━━━━━━━━━━┓  ┃\n ┃  ┃  ┃  props: playStatus (0/1/2)  ┃  ┃\n ┃  ┃  ┃  state: playStatus (0/1/2)  ┃  ┃\n ┃  ┃  ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛  ┃\n ┃  ┃  ┏━━━━ TextSubtitle ━━━━━━━━━━━┓  ┃\n ┃  ┃  ┃  props: text (string)       ┃  ┃\n ┃  ┃  ┃         playStatus (0/1/2)  ┃  ┃\n ┃  ┃  ┃  state: playStatus (0/1/2)  ┃  ┃\n ┃  ┃  ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛  ┃\n ┃  ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛\n ┃\n ┃  ┏━━━━ BoxController ━━━━━━━━━━━━━━━━━━━━━━━━┓\n ┃  ┃  props: theme (light / dark)              ┃\n ┃  ┃         playStatus (0/1/2)                ┃\n ┃  ┃  state: theme (light / dark)              ┃\n ┃  ┃         playStatus (0/1/2)                ┃\n ┃  ┃  ┏━━━━ div.box-bar ━━━━━━━━━━━━━━━━━━━━┓  ┃\n ┃  ┃  ┃  ┏━━━━ ProgressBar ━━━━━━━━━━━━━━┓  ┃  ┃\n ┃  ┃  ┃  ┃  props: playStatus (0/1/2)    ┃  ┃  ┃\n ┃  ┃  ┃  ┃         maxTimeout (int)      ┃  ┃  ┃\n ┃  ┃  ┃  ┃  state: playStatus (0/1/2)    ┃  ┃  ┃\n ┃  ┃  ┃  ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛  ┃  ┃\n ┃  ┃  ┃  ┏━━━━ div.bar-base ━━━━━━━━━━━━━┓  ┃  ┃\n ┃  ┃  ┃  ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛  ┃  ┃\n ┃  ┃  ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛  ┃\n ┃  ┃  ┏━━━━ div.box-buttons ━━━━━━━━━━━━━━━━┓  ┃\n ┃  ┃  ┃  ┏━━━━ BtnSmall #btnRewind ━━━━━━┓  ┃  ┃\n ┃  ┃  ┃  ┃  props: theme (light / dark)  ┃  ┃  ┃\n ┃  ┃  ┃  ┃  state: theme (light / dark)  ┃  ┃  ┃\n ┃  ┃  ┃  ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛  ┃  ┃\n ┃  ┃  ┃  ┏━━━━ BtnSmall #btnPlayPause ━━━┓  ┃  ┃\n ┃  ┃  ┃  ┃  props: theme (light / dark)  ┃  ┃  ┃\n ┃  ┃  ┃  ┃         playStatus (0/1/2)    ┃  ┃  ┃\n ┃  ┃  ┃  ┃  state: theme (light / dark)  ┃  ┃  ┃\n ┃  ┃  ┃  ┃         playStatus (0/1/2)    ┃  ┃  ┃\n ┃  ┃  ┃  ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛  ┃  ┃\n ┃  ┃  ┃  ┏━━━━ BtnSmall #btnSkip ━━━━━━━━┓  ┃  ┃\n ┃  ┃  ┃  ┃  props: theme (light / dark)  ┃  ┃  ┃\n ┃  ┃  ┃  ┃  state: theme (light / dark)  ┃  ┃  ┃\n ┃  ┃  ┃  ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛  ┃  ┃\n ┃  ┃  ┃  ┏━━━━ BtnSmall #btnExit ━━━━━━━━┓  ┃  ┃\n ┃  ┃  ┃  ┃  props: theme (light / dark)  ┃  ┃  ┃\n ┃  ┃  ┃  ┃  state: theme (light / dark)  ┃  ┃  ┃\n ┃  ┃  ┃  ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛  ┃  ┃\n ┃  ┃  ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛  ┃\n ┃  ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛\n ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛\n\n\n props and states\n\n playStatus:\n  0: null,\n  1: audio ready,\n  2: playing,\n  3: audio end\n**/\n\nfunction setData(source, target){\n  target.name = source.name;\n  target.message = source.message;\n  target.displayMessage = source.displayMessage;\n  target.displayOnly = source.displayOnly;\n  target.hasImage = source.hasImage;\n  target.epd = source.epd;\n  target.answerEntity = source.answerEntity;\n  target.maxTimeout = source.maxTimeout;\n  target.duration = source.duration;\n}\n\nconst currentData = {\n  /*\n  name: '',\n  message: 'this is a dummy text',\n  displayMessage: 'dummy text',\n  displayOnly: 0,\n  hasImage: 0,\n  epd: 0,\n  answerEntity: '',\n  maxTimeout: 0,\n  duration: 0,\n  currentPlayTime: 0,\n  playStatus: 0,\n  theme: 'light',\n  */\n  name: 'TASK_J2_01_statement_1',\n  message: '지금부터 몇 개의 그림이 표시될 것입니다. 그림은 한번에 하나씩 나옵니다. 각 그림의 이름을 말해 주시면 됩니다.',\n  displayMessage: '그림의 이름을 말해주세요.',\n  displayOnly: 1,\n  hasImage: 0,\n  epd: 0,\n  answerEntity: '',\n  maxTimeout: 0,\n  duration: 0,\n  currentPlayTime: 0,\n  playStatus: 0,\n  theme: 'light',\n};\nconst nextData = currentData;\n\nclass Baseplate extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = currentData;\n    this.handler = this.handler.bind(this);\n  }\n  static getDerivedStateFromProps(props, state) {\n    let docID = window.location.hash.split('#');\n    $.each(data.list, function(i){\n      if(data.list[i].name == docID[1]){\n        setData(data.list[i], currentData)\n      }\n    });\n    return currentData;\n  }\n  handler() {\n    if(currentData.playStatus === 2) {\n      currentData.playStatus = 3;\n      currentData.theme = 'light';\n    }\n    else {\n      currentData.playStatus = 2;\n      currentData.theme = 'dark';\n    }\n    this.setState(currentData);\n  }\n  render() {\n    return(\n      <div id=\"baseplate\">\n        <BoxAgent\n          playStatus={this.state.playStatus}\n          theme={this.state.theme}\n          displayMessage={this.state.displayMessage}\n          handler={this.handler}\n        />\n        <BoxController\n          theme={this.state.theme}\n          handler={this.handler}\n        />\n      </div>\n    );\n  }\n}\n\n\n\n\n/* * * * * * * * * * * * *\n * BoxAgent and children *\n * * * * * * * * * * * * */\n\nclass BoxAgent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      playStatus: 0,\n      theme: 'light',\n      displayMessage: \"dummy text\"\n    };\n  }\n  static getDerivedStateFromProps(props, state) {\n    return {\n      playStatus: props.playStatus,\n      theme: props.theme,\n      displayMessage: props.displayMessage\n    };\n  }\n  render() {\n    return(\n      <div className=\"box-agent\">\n        <ButtonAgent\n          playStatus={this.state.playStatus}\n          handler={this.props.handler}\n        />\n        <TextSubtitle theme={this.state.theme} displayMessage={this.state.displayMessage}/>\n      </div>\n    );\n  }\n}\n\nclass ButtonAgent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      playStatus: 0\n    };\n  }\n  static getDerivedStateFromProps(props, state) {\n    return {\n      playStatus: props.playStatus\n    };\n  }\n  setButtonStatus = (param) => {\n    switch(param) {\n      case 0: //audio is not loaded\n        return 'idle';\n      case 1: //audio is ready\n        return 'idle';\n      case 2: //audio is playing\n        return 'listening';\n      case 3: //audio ended\n        return 'idle';\n      default:\n        return 'idle';\n    }\n  }\n  render() {\n    return(\n      <button\n        id=\"btnAgent\"\n        className={\"button-agent status-\"+this.setButtonStatus(this.state.playStatus)}\n        onClick={this.props.handler}\n      >\n      </button>\n    );\n  }\n}\nclass TextSubtitle extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      theme: 'light',\n      displayMessage: \"dummy text\"\n    };\n  }\n  static getDerivedStateFromProps(props, state) {\n    return {\n      theme: props.theme,\n      message: props.message\n    };\n  }\n  render() {\n    return(\n      <p\n        id=\"txtSubtitle\"\n        className={\"theme-\"+this.state.theme}\n      >\n        {this.state.displayMessage}\n      </p>\n    );\n  }\n}\n\n/*\nclass AudioController extends React.Component {\n\n}\nclass AudioComp extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n  static getDerivedStateFromProps(props, state) {\n    return {\n      name: props.name,\n      message: props.message,\n      displayMessage: props.displayMessage,\n      displayOnly: props.displayOnly,\n      hasImage: props.hasImage,\n      epd: props.epd,\n      answerEntity: props.answerEntity,\n      maxTimeout: props.maxTimeout,\n      duration: props.duration,\n      currentPlayTime: props.currentPlayTime,\n      playStatus: props.playStatus,\n      theme: props.theme\n    };\n  }\n  render() {\n    return(\n\n    );\n  }\n}\n*/\n\n/* * * * * * * * * * * * * * * *\n * BoxController and children  *\n * * * * * * * * * * * * * * * */\n\nclass BoxController extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      theme: 'light'\n    };\n  }\n  static getDerivedStateFromProps(props, state) {\n    return {\n      theme: props.theme\n    };\n  }\n  setTheme = () => {\n    this.setState({ theme: this.state.theme == 'light' ? 'dark' : 'light' });\n  }\n  render() {\n    return(\n      <div className=\"box-controller\">\n        <div className=\"box-bar\">\n          <div className={\"bar bar-base theme-\"+this.state.theme}\n          onClick={this.setTheme}></div>\n        </div>\n        <div className=\"box-buttons\">\n          <ButtonSmall name=\"btnRewind\" alignRight={false} theme={this.state.theme} />\n          <ButtonSmall name=\"btnSkip\" alignRight={false} theme={this.state.theme} />\n          <ButtonSmall name=\"btnExit\" alignRight={true} theme={this.state.theme} />\n        </div>\n      </div>\n    );\n  }\n}\n\nclass ButtonSmall extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      theme: 'light',\n      clicked: false\n    };\n  }\n  static getDerivedStateFromProps(props, state) {\n    return {\n      theme: props.theme,\n      clicked: props.clicked\n    };\n  }\n  render() {\n    return (\n      <button\n        id={this.props.name}\n        className={\n          \"button-small theme-\"+\n          this.state.theme+\n          (this.props.alignRight ? ' align-right' : '')\n        }\n      >\n      </button>\n    );\n  }\n}\n\n\nfunction App() {\n  const element = <Baseplate\n    name={currentData.name}\n    message={currentData.message}\n    displayMessage={currentData.displayMessage}\n    displayOnly={currentData.displayOnly}\n    hasImage={currentData.hasImage}\n    epd={currentData.epd}\n    answerEntity={currentData.answerEntity}\n    maxTimeout={currentData.maxTimeout}\n    duration={currentData.duration}\n    currentPlayTime={currentData.currentPlayTime}\n    playStatus={currentData.playStatus}\n    theme={currentData.theme}\n  />;\n  return(element);\n}\nexport default App;\n"]},"metadata":{},"sourceType":"module"}